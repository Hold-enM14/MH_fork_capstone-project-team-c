"0",""
"0","#plot for elite subgroup"
"0","elite <- shap.plot.dependence("
"0","  shap_long,"
"0","  x = ""avg_temp"","
"0","  color_feature = ""subgroupelite"""
"0",")"
"0","#SHAP values broken down by 1 (elite) or 0 (not-elite) and relevant color."
"0","elite_points <- elite$data"
"0",""
"0","#repeated for competitive subgroup"
"0","comp <- shap.plot.dependence("
"0","  shap_long,"
"0","  x = ""avg_temp"","
"0","  color_feature = ""subgroupcompetitive"""
"0",")"
"0","comp_points <- comp$data"
"0",""
"0","#repeated for recreational subgroup"
"0","rec <- shap.plot.dependence("
"0","  shap_long,"
"0","  x = ""avg_temp"","
"0","  color_feature = ""subgrouprecreational"""
"0",")"
"0","rec_points <- rec$data"
"0",""
"0","#repeated for slow subgroup"
"0","slow <- shap.plot.dependence("
"0","  shap_long,"
"0","  x = ""avg_temp"","
"0","  color_feature = ""subgroupslow"""
"0",")"
"0","slow_points <- slow$data"
"0",""
"0",""
"0",""
"0","#subset so each dataset hase color_value = 1 (the dataframe's positive subroup)"
"0","elite_points <- subset(elite_points, color_value == 1)"
"0","comp_points <- subset(comp_points, color_value == 1)"
"0","rec_points <- subset(rec_points, color_value == 1)"
"0","slow_points <- subset(slow_points, color_value == 1)"
"0",""
"0","#add group to each dataframe for merge"
"0","elite_points$group <- ""Elite"""
"0","comp_points$group  <- ""Comp"""
"0","rec_points$group   <- ""Rec"""
"0","slow_points$group  <- ""Slow"""
"0",""
"0","#merge"
"0","all_points <- rbind(elite_points, comp_points, rec_points, slow_points)"
"0",""
"0","#plot each subgroup and relevant SHAP values"
"0","ggplot(all_points, aes(x = x_feature, y = value, color = group)) +"
"0","  geom_point(alpha = 0.4) +"
"0","  geom_smooth(se = FALSE, size = 0.8) +   # one smooth line per group"
"0","  scale_color_manual(values = c("
"0","    ""Elite"" = ""#3B77BC"","
"0","    ""Comp""  = ""#E1BE6A"","
"0","    ""Rec""   = ""#55A868"","
"0","    ""Slow""  = ""#C44E52"""
"0","  ),"
"0","  breaks = c(""Elite"", ""Comp"", ""Rec"", ""Slow"") "
"0","  ) +"
"0","  theme_minimal() +"
"0","  labs(x = ""Average Temp"", y = ""SHAP value"", color = ""Group"")"
"0",""
